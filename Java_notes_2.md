### 2.对象和类

#### 2.1 面向对象程序设计概述

面向对象程序设计（简称OOP），面向对象的程序是由对象组成的，每个对象包含对用户公开的的特定功能部分和隐藏的实现部分。

##### 2.1.1 类

类（class）是构造对象的板块或蓝图。由类构造（construct）对象的过程称为创建类的示例（instance）。

封装（encapsulation，有时称为数据隐藏）是与对象有关的一个重要概念。

> 从形式上看，封装不过是将数据与行为结合在一个包中，并对对象的使用者隐藏了数据的实现方式。对象中的数据称为实例域（instance field），操作数据的过程称为方法（method）。对于每个特定的类实例（对象）都有一组特定的实例域值。这些值的集合就是这个对象的当前状态（state）。无论何时，只要向对象发送一个消息，他的状态就有可能发生改变。

实现封装的关键在于绝对不能让类中的方法直接地访问其他类的实例域。程序仅通过对象的方法与对象数据进行交互。 

可以通过扩展一个类来建立另外一个新的类。在Java中，所有的类都源于一个“神通广大的超类”，它就是Object。

在扩展一个已有的类时，这个扩展后的新类具有所扩展的类的全部属性和方法。在新类中，只需提供适用于这个新类的新方法和数据与就可以了。通过扩展一个类来建立另一个类的过程称为**继承**（inheritance）。

##### 2.1.2 对象

要想使用OOP，一定要清楚对象的三个主要特性：

* 对象的行为（behavior）——可以对对象施加哪些操作，或可以对对象施加哪些方法？
* 对象的状态（state）——当时加那些方法时，对象如何响应？
* 对象标识（identity）——如何辨别具有相同行为与状态的不同对象？

同一个类的所有对象实例，由于支持相同的行为而具有家族式的相似性。对象的行为是用可调用的方法定义的。

作为一个类的实例，每个对象的标识符永远是不同的，状态也常常存在着差异。对象的这些关键特性在彼此之间相互影响着。

##### 2.1.3 识别类

##### 2.1.4 类之间的关系

类之间最常见的关系：

* 依赖（“uses-a”）
* 聚合（“has-a”）
* 继承（“is-a”）

**依赖（dependence）**，是最常见的一种关系。例如，Order类使用Account类是因为Order对象需要访问Account查看信用状态。但是Item类不依赖于Account类，这是因为Item对象于客户账户无关。因此，如果一个类的方法操纵另一个类的对象，我们就说一个类依赖于另一个类。

尽可能地将相互依赖的类减至最少。如果A不知道B存在，他就不会关心B的任何改变（意味着B的改变不会导致A产生任何BUG）。用软件工程的术语来说，就是让类之间的耦合度最小。

**聚合（aggregation）**，是一种具体且易于理解的关系。例如，一个Order对象包含一些Item对象。聚合关系意味着类A的对象包含B的对象。

**继承（inheritance）**，是一种用域表示特殊与一般关系的。例如，RushOrder类由Order类继承而来，在具有特殊性的RushOrder类中包含了一些用于优先处理的特殊方法。

#### 2.2 使用预定义类

​	在Java中，没有类就无法做任何事情，我们前面曾经接触过几个类。然而，并不是所有的类都具有面向对象特征。

##### 2.2.1 对象与对象变量

​	要想使用对象，就必须首先构造对象，并指定期初始状态。然后，对对象应用方法。

​	在Java程序设计语言中，使用构造器（constructor）构造新实例。构造器是一种特殊的方法，用来构造并初始化对象。

​	构造器的名字应该与类名相同，因此Date类的构造器名为Date。想要构造一个Date对象。而且在构造器前面加上new操作符。如下所示：

```java
new Date()
```

这个表达式构造一个新对象。这个对象被初始化为当前的日期和时间。

如果需要的话，也可以将这个对象传递给一个方法：

```java
System.out.println(new Date());
```

或者，也可以将一个方法应用于刚刚创建的对象。Date类中有一个toString方法。这个方法将返回日期的字符串描述。下面的语句可以说明如何将toString方法引用与新构造的Date对象上。

```java
String s = new Date().toString();
```

在这两个例子中，构造的对象仅使用了一次。通常，希望构造的对象可以多次使用，因此i，需要将对象存放在一个变量中；

```java
Date birthday = new Date();
```

在对象与对象变量之间存在着一个重要的区别。例如：

```java
Date deadline；//截止日期不涉及任何对象
```

定义了一个对象变量deadline，他可以引用Date类型的对象。但是，一定要认识到：变量deadline不是一个对象，实际上也没有引用对象。此时，不能将任何Date方法应用于这个变量上。

首先初始化变量deadline，这里有两个选择。当然，可以用新构造的对象初始化这个变量：

```java
deadline = new Date()
```

也让这个变量引用一个已存在的对象：

```java
deadline = birthday;
```

一个对象变量并没有实际包含一个对象，而仅仅引用一个对象。

在Java中，任何对象变量的值都是对存储在另外一个地方的一个对象的引用。new操作符的返回值也是一个引用。下列语句：

```java
Date deadline = new Date();
```

有两个部分。表达式new Date()构造了一个Date类型的对象，并且他的值是对新创建对象的引用。这个引用存储的变量deadline中。

可以显式地将对象设置为null，表明这个对象变量目前没有引用任何对象。

```java
deadline = null;
...
    if(deadline != null)
        System.out.println(deadline);
```

如果将一个方法应用于一个值为null的对象上，那么就会产生运行时错误。

局部变量不会自动地初始化为null，而必须通过new或将它们设置为null进行初始化。

##### 2.2.2 Java类库中的LocalDate类















